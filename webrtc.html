<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KTTYé›»è©±ã‚µãƒ¼ãƒ“ã‚¹/title>
    <style>
        body, html {
            margin: 0; padding: 0; height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            overflow: hidden;
            background-color: #000;
        }

        /* èƒŒæ™¯ï¼šè‡ªç„¶ã®ç”»åƒ */
        .background {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://images.unsplash.com/photo-1441974231531-c6227db76b6e?auto=format&fit=crop&w=1000&q=80') no-repeat center center;
            background-size: cover;
            filter: brightness(0.7) blur(5px);
            z-index: -1;
            transition: filter 1s ease;
        }

        /* ç€ä¿¡ç”»é¢ãƒ»é€šè©±ç”»é¢å…±é€šã®ã‚³ãƒ³ãƒ†ãƒŠ */
        .screen {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            color: white;
            padding: 80px 20px;
            box-sizing: border-box;
            transition: opacity 0.5s ease;
        }

        .hidden { display: none; opacity: 0; }

        /* é›»è©±ç•ªå·ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ */
        .caller-info { text-align: center; }
        .number { font-size: 36px; font-weight: 300; margin-bottom: 8px; }
        .status { font-size: 18px; opacity: 0.9; }

        /* --- ç€ä¿¡ç”»é¢ç”¨ï¼šã‚¹ãƒ©ã‚¤ãƒ‰ãƒœã‚¿ãƒ³ --- */
        .accept-area {
            width: 100%; max-width: 300px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(15px);
            border-radius: 50px;
            height: 80px;
            display: flex;
            align-items: center;
            position: relative;
            user-select: none;
            touch-action: none; /* ã‚¹ãƒãƒ›ã§ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é˜²æ­¢ */
        }

        .slider-text {
            width: 100%; text-align: center;
            font-size: 16px; font-weight: 500;
            color: rgba(255, 255, 255, 0.8);
            animation: shimmer 2s infinite linear;
        }

        .slider-btn {
            position: absolute;
            left: 5px; width: 70px; height: 70px;
            background: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
            cursor: pointer;
            z-index: 2;
        }

        .slider-btn svg { width: 35px; height: 35px; fill: #4cd964; }

        /* --- é€šè©±ä¸­ç”»é¢ç”¨ï¼šæ“ä½œãƒœã‚¿ãƒ³ --- */
        .in-call-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            width: 100%;
            max-width: 320px;
        }

        .control-item {
            display: flex; flex-direction: column; align-items: center; font-size: 12px; gap: 8px;
        }

        .circle-btn {
            width: 70px; height: 70px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 24px;
        }

        .end-call-btn {
            background: #ff3b30;
            grid-column: 2; /* çœŸã‚“ä¸­ã«é…ç½® */
            margin-top: 20px;
        }

        @keyframes shimmer {
            0% { opacity: 0.2; transform: translateX(-10px); }
            50% { opacity: 1; }
            100% { opacity: 0.2; transform: translateX(10px); }
        }
    </style>
</head>
<body>

    <div class="background" id="bg"></div>

    <div id="incoming-screen" class="screen">
        <div class="caller-info">
            <div class="number" id="phone-number">050 5889 0000</div>
            <div class="status">ç€ä¿¡ä¸­...</div>
        </div>

        <div class="accept-area" id="slider-track">
            <div class="slider-text">ã‚¹ãƒ©ã‚¤ãƒ‰ã§å¿œç­”</div>
            <div class="slider-btn" id="slider-handle">
                <svg viewBox="0 0 24 24"><path d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"/></svg>
            </div>
        </div>
    </div>

    <div id="call-active-screen" class="screen hidden">
        <div class="caller-info">
            <div class="number" id="active-number">050 5889 0000</div>
            <div class="status" id="timer">00:00</div>
        </div>

        <div class="in-call-controls">
            <div class="control-item"><div class="circle-btn">ğŸ¤</div><span>æ¶ˆéŸ³</span></div>
            <div class="control-item"><div class="circle-btn">ğŸ”¢</div><span>ã‚­ãƒ¼ãƒ‘ãƒƒãƒ‰</span></div>
            <div class="control-item"><div class="circle-btn">ğŸ”Š</div><span>ã‚¹ãƒ”ãƒ¼ã‚«ãƒ¼</span></div>
            <div class="control-item"><div class="circle-btn">â•</div><span>é€šè©±ã‚’è¿½åŠ </span></div>
            <div class="control-item"><div class="circle-btn">ğŸ‘¥</div><span>FaceTime</span></div>
            <div class="control-item"><div class="circle-btn">ğŸ‘¤</div><span>é€£çµ¡å…ˆ</span></div>
            
            <div class="control-item" onclick="location.reload()">
                <div class="circle-btn end-call-btn">ğŸ“</div>
                <span>çµ‚äº†</span>
            </div>
        </div>
    </div>

    <script>
        const handle = document.getElementById('slider-handle');
        const track = document.getElementById('slider-track');
        const incomingScreen = document.getElementById('incoming-screen');
        const activeScreen = document.getElementById('call-active-screen');
        const bg = document.getElementById('bg');

        let isDragging = false;
        let startX = 0;
        const maxSlide = track.offsetWidth - handle.offsetWidth - 10;

        // --- ç•ªå·ã®ç”Ÿæˆ ---
        const lastFour = Math.floor(1000 + Math.random() * 9000);
        const fullNumber = `050 5889 ${lastFour}`;
        document.getElementById('phone-number').innerText = fullNumber;
        document.getElementById('active-number').innerText = fullNumber;

        // --- ã‚¹ãƒ©ã‚¤ãƒ‰å‡¦ç† (ãƒã‚¦ã‚¹ & ã‚¿ãƒƒãƒ) ---
        const startDrag = (e) => {
            isDragging = true;
            startX = (e.pageX || e.touches[0].pageX) - handle.offsetLeft;
        };

        const moveDrag = (e) => {
            if (!isDragging) return;
            let x = (e.pageX || e.touches[0].pageX) - startX;
            if (x < 5) x = 5;
            if (x > maxSlide) x = maxSlide;
            handle.style.left = x + 'px';

            // 80%ä»¥ä¸Šã‚¹ãƒ©ã‚¤ãƒ‰ã—ãŸã‚‰å¿œç­”
            if (x >= maxSlide * 0.9) {
                answerCall();
            }
        };

        const endDrag = () => {
            if (!isDragging) return;
            isDragging = false;
            if (parseInt(handle.style.left) < maxSlide * 0.9) {
                handle.style.transition = 'left 0.3s ease';
                handle.style.left = '5px';
                setTimeout(() => handle.style.transition = '', 300);
            }
        };

        handle.addEventListener('mousedown', startDrag);
        window.addEventListener('mousemove', moveDrag);
        window.addEventListener('mouseup', endDrag);

        handle.addEventListener('touchstart', startDrag);
        window.addEventListener('touchmove', moveDrag);
        window.addEventListener('touchend', endDrag);

        // --- å¿œç­”å¾Œã®å‡¦ç† ---
        function answerCall() {
            isDragging = false;
            incomingScreen.classList.add('hidden');
            activeScreen.classList.remove('hidden');
            bg.style.filter = 'brightness(0.5) blur(20px)'; // é€šè©±ä¸­ã¯èƒŒæ™¯ã‚’ã•ã‚‰ã«ã¼ã‹ã™
            startTimer();
        }

        // --- ã‚¿ã‚¤ãƒãƒ¼æ©Ÿèƒ½ ---
        function startTimer() {
            let seconds = 0;
            const timerElement = document.getElementById('timer');
            setInterval(() => {
                seconds++;
                const m = Math.floor(seconds / 60).toString().padStart(2, '0');
                const s = (seconds % 60).toString().padStart(2, '0');
                timerElement.innerText = `${m}:${s}`;
            }, 1000);
        }
    </script>
</body>
</html>

